!function(t,e){var i=e(document),n=(e(document.body),e(window));e.drag=function(o,a,c){var s;o=e(o),containerName=o[0].id?"#"+o[0].id:"."+o[0].className,o.length<=0||(s="string"!=e.type(a)?containerName:containerName+" "+a,e(s).css("cursor","move"),i.on("mousedown",s,function(a){var s=o.offset(),l=a.pageX-s.left,r=a.pageY-s.top,d=online.getStyleName("user-select");"absolute"!=o.css("position")&&o.css("position","absolute"),o.setCapture?o.setCapture():t.captureEvents&&t.captureEvents("mousemove"),"function"===e.type(c)&&c(o),i.on({mouseup:function(){o.releaseCapture?o.releaseCapture():t.releaseEvents&&t.releaseEvents("mousemove"),"string"===e.type(d)?document.documentElement.style[d]="":(document.unselectable="off",document.onselectstart=null),i.off("mousemove").off("mouseup")},mousemove:function(t){var a=t.pageX-l,c=t.pageY-r;"string"===e.type(d)?document.documentElement.style[d]="none":(document.unselectable="on",document.onselectstart=function(){return!1}),a>n.width()-o.width()?a=n.width()-o.width():0>=a&&(a=0),c>i.height()-o.height()?c=i.height()-o.height():0>=c&&(c=0),o.css({left:a,top:c})}})}))}}(window,jQuery),function(t){var e,i=t(document),n=(t(document.body),t(window)),o=function(e){var i={drag:!1,stop:!0,title:"温馨提示",msg:"",width:"300px",opacity:.3,close:!0,cancel:"取消",ok:"确认",isHide:!0,zIndex:999,tmpl:'<div class="popup">{{if close}}<button type="button" class="close" title="关闭" aria-hidden="true">&times;</button>{{/if}}{{if title}}<div class="hd">${title}</div>{{/if}}<div class="bd">${msg}</div>{{if ok || cancel}}<div class="ft">{{if ok}}<a href="javascript:;" class="btn btn-primary" aria-label="ok">${ok}</a>{{/if}}{{if cancel}}<a href="javascript:;" class="btn btn-default" aria-label="cancel">${cancel}</a>{{/if}}</div>{{/if}}</div>',loadedCallback:null,okCallback:null,cancelCallback:null,closeCallback:null};t.extend(this,i,e),this.init()};t.extend(o.prototype,{init:function(){var o=this;this.mask=e,e?this.mask.show():(__container__.append('<div id="Pop__maskLayer__"></div>'),this.mask=e=t("#Pop__maskLayer__"),this.mask.css({position:"absolute",top:0,left:0,"background-color":"#000","z-index":o.zIndex-2,opacity:o.opacity,width:n.width(),height:i.height()})),this.mask.after('<div id="Pop__container__" style="width:'+o.width+";z-index:"+o.zIndex+'"></div>'),this.container=t("#Pop__container__"),this.container.html(t.tmpl.render(this.tmpl,this)),"function"===t.type(this.loadedCallback)&&this.loadedCallback.call(this,this.container),this.container.css({position:"absolute",left:(n.width()-this.container.width())/2,top:(n.height()-this.container.height())/2}),this.drag&&t.drag(this.container,".hd"),this.addEvent()},addEvent:function(){var e=this;i.on("click","[aria-label=ok]",function(i){e.stop&&(online.preventDefault(i),online.stopPropagation(i)),"function"===t.type(e.okCallback)&&e.okCallback.call(e,e.container,i),e.isHide&&e.closePop()}).on("click","[aria-label=cancel]",function(i){e.stop&&(online.preventDefault(i),online.stopPropagation(i)),"function"===t.type(e.cancelCallback)&&e.cancelCallback.call(e,e.container,i),e.closePop()}).on("click","[aria-hidden=true]",function(i){e.stop&&online.stopPropagation(i),"function"===t.type(e.closeCallback)&&e.closeCallback.call(e,e.container,i),e.closePop()})},closePop:function(){this.container.remove(),this.mask.hide()}}),t.dialog=function(t){return new o(t)}}(jQuery);var showTip=function(t,e){return t.focus(),$(".popup span.tips").html('<span class="glyphicon glyphicon-flash"></span>'+e),!1},check=function(){var t=$("#Customer"),e=$("#Agency"),i=$("#CreativeDirector"),n=$("#ArtDirector"),o=$("#WorkTime"),a=$("#FileInput");return t.val().trim()<1?showTip(t,"请填写客户"):e.val().trim()<1?showTip(e,"请填写广告公司"):i.val().trim()<1?showTip(i,"请填写创意总监"):n.val().trim()<1?showTip(n,"请填写美术指导"):o.val().trim()<1?showTip(o,"请填写时间"):a.val().trim()<1?showTip(a,"请上传图片"):!0};window.edit=function(t){$.dialog({drag:!0,width:"500px",opacity:0,loadedCallback:function(){this.container.find(".bd").html($.tmpl.render($("#ListTmpl").html(),t)),this.container.find(".ft>.btn-primary").before('<span class="tips"></span>')},okCallback:function(){this.isHide=!1,check()&&($(".form-horizontal").submit(),this.closePop())}})},$(".table").on("click","[aria-action=del]",function(){var t=$(this),e=t.closest("tr");e.hide(600,function(){$(this).remove()})}).on("click","[scope=controll]>input",function(){var t=($(this),$(".table tbody tr"));t.each(this.checked?function(){$(this).find("[scope=row]>input")[0].checked=!0,$(this).addClass("active")}:function(){$(this).find("[scope=row]>input")[0].checked=!1,$(this).removeClass("active")})}).on("click","[scope=row]>input",function(){var t=$(this),e=t.closest("tr");e[this.checked?"addClass":"removeClass"]("active")});