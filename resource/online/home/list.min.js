!function(i){var t,a=i(document),n=(i(document.body),i(window)),o=function(t){var a={drag:!1,stop:!0,title:"温馨提示",msg:"",width:"300px",opacity:.3,close:!0,cancel:"取消",ok:"确认",isHide:!0,zIndex:999,tmpl:'<div class="popup">{{if close}}<button type="button" class="close" title="关闭" aria-hidden="true">&times;</button>{{/if}}{{if title}}<div class="hd">${title}</div>{{/if}}<div class="bd">${msg}</div>{{if ok || cancel}}<div class="ft">{{if ok}}<a href="javascript:;" class="btn btn-primary"  aria-label="ok">${ok}</a>{{/if}}{{if cancel}}<a href="javascript:;" class="btn btn-default" aria-label="cancel">${cancel}</a>{{/if}}</div>{{/if}}</div>',loadedCallback:null,okCallback:null,cancelCallback:null,closeCallback:null};i.extend(this,a,t),this.init()};i.extend(o.prototype,{init:function(){var o=this;this.mask=t,t?this.mask.show():(__container__.append('<div id="Pop__maskLayer__"></div>'),this.mask=t=i("#Pop__maskLayer__"),this.mask.css({position:"absolute",top:0,left:0,"background-color":"#000",opacity:o.opacity,width:n.width(),height:a.height()})),this.mask.after('<div id="Pop__container__" style="width:'+o.width+";z-index:"+o.zIndex+'"></div>'),this.container=i("#Pop__container__"),this.container.html(i.tmpl.render(this.tmpl,this)),this.container.css({position:"absolute",left:(n.width()-this.container.width())/2,top:(n.height()-this.container.height())/2}),"function"===i.type(this.loadedCallback)&&this.loadedCallback.call(this,this.container),this.drag&&i.drag(this.container,".hd"),this.addEvent()},addEvent:function(){var t=this;a.on("click","[aria-label=ok]",function(a){t.stop&&(online.preventDefault(a),online.stopPropagation(a)),"function"===i.type(t.okCallback)&&t.okCallback.call(t,t.container,a),t.isHide&&t.closePop()}).on("click","[aria-label=cancel]",function(a){t.stop&&(online.preventDefault(a),online.stopPropagation(a)),"function"===i.type(t.cancelCallback)&&t.cancelCallback.call(t,t.container,a),t.closePop()}).on("click","[aria-hidden=true]",function(a){t.stop&&online.stopPropagation(a),"function"===i.type(t.closeCallback)&&t.closeCallback.call(t,t.container,a),t.closePop()})},closePop:function(){this.container.remove(),this.mask.hide()}}),i.dialog=function(i){return new o(i)}}(jQuery),$("#a").on("click",function(){$.dialog()});